!function(){var a,b,c,d,e,f,g,h;e=new function(){},h=e.toString,f=function(a,b,c){var d,e,f,g;for(null==c&&(c=function(a){return a}),g=c(b),e=0,d=a.length;d>e;)f=e+d>>1,c(a[f])<g?e=f+1:d=f;return e},a=[].indexOf||function(a){var b,c,d,e,f;for(b=this,d=e=0,f=b.length;f>e;d=++e)if(c=b[d],c===a)return d;return-1},d=function(a){return a!==a},c=function(a){return(("undefined"!=typeof window&&null!==window?window.isFinite:void 0)||global.isFinite)(a)&&!d(parseFloat(a))},b=function(a){return"[object Array]"===h.call(a)},g=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],this.Humanize={},this.Humanize.compactInteger=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==b&&(b=0),b=Math.max(b,0),h=parseInt(a,10),m=0>h?"-":"",n=Math.abs(h),p=""+n,i=p.length,j=[13,10,7,4],c=["T","B","M","k"],1e3>n)return b>0&&(p+="."+Array(b+1).join("0")),""+m+p;if(i>j[0]+3)return h.toExponential(b).replace("e+","x10^");for(s=0,t=j.length;t>s;s++)if(u=j[s],i>=u){g=u;break}return d=i-g+1,o=p.split(""),r=o.slice(0,d),f=o.slice(d,d+b+1),q=r.join(""),e=f.join(""),e.length<b&&(e+=""+Array(b-e.length+1).join("0")),0===b?k=""+m+q+c[j.indexOf(g)]:(l=(+(""+q+"."+e)).toFixed(b),k=""+m+l+c[j.indexOf(g)]),k},this.Humanize.intComma=function(a,b){return null==b&&(b=0),this.formatNumber(a,b)},this.Humanize.fileSize=function(a){var b;return b=a>=1073741824?this.formatNumber(a/1073741824,2,"")+" GB":a>=1048576?this.formatNumber(a/1048576,2,"")+" MB":a>=1024?this.formatNumber(a/1024,0)+" KB":this.formatNumber(a,0)+this.pluralize(a," byte")},this.Humanize.formatNumber=function(a,b,c,d){var e,f,g,h,i,j,k,l=this;return null==b&&(b=0),null==c&&(c=","),null==d&&(d="."),h=function(a,b,c){return c?a.substr(0,c)+b:""},f=function(a,b,c){return a.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+b)},g=function(a,b,c){return c?b+l.toFixed(Math.abs(a),c).split(".")[1]:""},k=this.normalizePrecision(b),j=0>a&&"-"||"",e=parseInt(this.toFixed(Math.abs(a||0),k),10)+"",i=e.length>3?e.length%3:0,j+h(e,c,i)+f(e,c,i)+g(a,d,k)},this.Humanize.toFixed=function(a,b){var c;return null==b&&(b=this.normalizePrecision(b,0)),c=Math.pow(10,b),(Math.round(a*c)/c).toFixed(b)},this.Humanize.normalizePrecision=function(a,b){return a=Math.round(Math.abs(a)),d(a)?b:a},this.Humanize.ordinal=function(a){var b,c,d,e;if(d=parseInt(a,10),0===d)return a;if(e=d%100,11===e||12===e||13===e)return d+"th";switch(c=d%10){case 1:b="st";break;case 2:b="nd";break;case 3:b="rd";break;default:b="th"}return""+d+b},this.Humanize.times=function(a,b){var d,e;if(null==b&&(b={}),c(a)&&a>=0)switch(d=parseFloat(a)){case 0:e=null!=b[0]||"never";break;case 1:e=null!=b[1]||"once";break;case 2:e=null!=b[2]||"twice";break;default:e=(b[d]||d)+" times"}return e},this.Humanize.pluralize=function(a,b,c){return null!=a&&null!=b?(null==c&&(c=b+"s"),1===parseInt(a,10)?b:c):void 0},this.Humanize.truncate=function(a,b,c){return null==b&&(b=100),null==c&&(c="..."),a.length>b?a.substring(0,b-c.length)+c:a},this.Humanize.truncateWords=function(a,b){var c,d,e;for(c=a.split(" "),e="",d=0;b>d;)null!=c[d]&&(e+=c[d]+" "),d++;return c.length>b?e+="...":void 0},this.Humanize.boundedNumber=function(a,b,d){var e;return null==b&&(b=100),null==d&&(d="+"),e=null,c(a)&&c(b)&&a>b&&(e=b+d),(e||a).toString()},this.Humanize.oxford=function(a,b,c){var d,e,f;return f=a.length,2>f?""+a:2===f?a.join(" and "):(null!=b&&f>b?(d=f-b,e=b,null==c&&(c=", and "+d+" "+this.pluralize(d,"other"))):(e=-1,c=", and "+a[f-1]),a.slice(0,e).join(", ")+c)},this.Humanize.dictionary=function(a,c,d){var e,f,g,h;if(null==c&&(c=" is "),null==d&&(d=", "),g="",null!=a&&"object"==typeof a&&!b(a)){e=[];for(f in a)h=a[f],e.push(f+c+h);g=e.join(d)}return g},this.Humanize.frequency=function(a,c){var d,e,f;if(b(a))return d=a.length,f=this.times(d),e=0===d?""+f+" "+c:""+c+" "+f},this.Humanize.pace=function(a,b,c){var d,e,f,h,i,j,k,l;if(null==c&&(c="time"),0===a||0===b)return"No "+this.pluralize(c);for(e="Approximately",j=null,f=a/b,k=0,l=g.length;l>k;k++)if(d=g[k],h=f*d.value,h>1){j=d.name;break}return j||(e="Less than",h=1,j=g[g.length-1].name),i=Math.round(h),c=this.pluralize(i,c),""+e+" "+i+" "+c+" per "+j},this.Humanize.nl2br=function(a,b){return null==b&&(b="<br/>"),a.replace(/\n/g,b)},this.Humanize.br2nl=function(a,b){return null==b&&(b="\r\n"),a.replace(/\<br\s*\/?\>/g,b)},this.Humanize.capitalize=function(a,b){var c,d;return null==b&&(b=!1),d=a.slice(1),c=b&&d.toLowerCase()||d,a.charAt(0).toUpperCase()+c},this.Humanize.capitalizeAll=function(a){return a.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})},this.Humanize.titleCase=function(a){var b,c,d,e,f,g=this;return d=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,c=/\S+[A-Z]+\S*/,f=/\s+/,e=/-/,b=function(a,h,i){var j,k,l,m,n,o;for(null==h&&(h=!1),null==i&&(i=!0),l=[],k=a.split(h?e:f),j=n=0,o=k.length;o>n;j=++n)m=k[j],-1===m.indexOf("-")?!i||0!==j&&j!==k.length-1?c.test(m)?l.push(m):d.test(m)?l.push(m.toLowerCase()):l.push(g.capitalize(m)):l.push(c.test(m)?m:g.capitalize(m)):l.push(b(m,!0,0===j||j===k.length-1));return l.join(h?"-":" ")},b(a)},"undefined"!=typeof module&&null!==module&&(module.exports=this.Humanize)}.call(this);