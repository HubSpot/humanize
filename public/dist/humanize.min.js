(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;y=new function(){},L=y.toString,v=function(e){return e!==e},d=function(e){return((typeof window!="undefined"&&window!==null?window.isFinite:void 0)||global.isFinite)(e)&&!v(parseFloat(e))},p=function(e){return L.call(e)==="[object Array]"},x=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],h=function(e,t,n){return n==null&&(n=2),i(e,n)},i=function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;t==null&&(t=0),t=Math.max(t,0),u=parseInt(e,10),h=u<0?"-":"",p=Math.abs(u),v=""+p,a=v.length,f=[13,10,7,4],n=["T","B","M","k"];if(p<1e3)return t>0&&(v+="."+Array(t+1).join("0")),""+h+v;if(a>f[0]+3)return u.toExponential(t).replace("e+","x10^");for(y=0,b=f.length;y<b;y++){w=f[y];if(a>=w){o=w;break}}return r=a-o+1,d=v.split(""),g=d.slice(0,r),s=d.slice(r,r+t+1),m=g.join(""),i=s.join(""),i.length<t&&(i+=""+Array(t-i.length+1).join("0")),t===0?l=""+h+m+n[f.indexOf(o)]:(c=(+(""+m+"."+i)).toFixed(t),l=""+h+c+n[f.indexOf(o)]),l},c=l=function(e,t){return t==null&&(t=0),a(e,t)},u=o=function(e){var t;return e>=1073741824?t=a(e/1073741824,2,"")+" GB":e>=1048576?t=a(e/1048576,2,"")+" MB":e>=1024?t=a(e/1024,0)+" KB":t=a(e,0)+S(e," byte"),t},a=function(e,t,n,r){var i,s,o,u,a,f,l,c=this;return t==null&&(t=0),n==null&&(n=","),r==null&&(r="."),u=function(e,t,n){return n?e.substr(0,n)+t:""},s=function(e,t,n){return e.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+t)},o=function(e,t,n){return n?t+k(Math.abs(e),n).split(".")[1]:""},l=g(t),f=e<0&&"-"||"",i=parseInt(k(Math.abs(e||0),l),10)+"",a=i.length>3?i.length%3:0,f+u(i,n,a)+s(i,n,a)+o(e,r,l)},k=function(e,t){var n;return t==null&&(t=g(t,0)),n=Math.pow(10,t),(Math.round(e*n)/n).toFixed(t)},g=function(e,t){return e=Math.round(Math.abs(e)),v(e)?t:e},b=function(e){var t,n,r,i;r=parseInt(e,10);if(r===0)return e;i=r%100;if(i===11||i===12||i===13)return""+r+"th";n=r%10;switch(n){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return""+r+t},T=function(e,t){var n,r,i;t==null&&(t={});if(d(e)&&e>=0)return n=parseFloat(e),r=["never","once","twice"],t[n]!=null?""+t[n]:""+(((i=r[n])!=null?i.toString():void 0)||n.toString()+" times")},S=function(e,t,n){if(e==null||t==null)return;return n==null&&(n=t+"s"),parseInt(e,10)===1?t:n},A=function(e,t,n){return t==null&&(t=100),n==null&&(n="..."),e.length>t?e.substring(0,t-n.length)+n:e},_=O=function(e,t){var n,r,i;n=e.split(" "),i="",r=0;while(r<t)n[r]!=null&&(i+=""+n[r]+" "),r++;if(n.length>t)return i+="..."},M=e=function(e,t,n){var r;return t==null&&(t=100),n==null&&(n="+"),r=null,d(e)&&d(t)&&e>t&&(r=t+n),(r||e).toString()},w=function(e,t,n){var r,i,s;return s=e.length,s<2?""+e:s===2?e.join(" and "):(t!=null&&s>t?(r=s-t,i=t,n==null&&(n=", and "+r+" "+S(r,"other"))):(i=-1,n=", and "+e[s-1]),e.slice(0,i).join(", ")+n)},s=function(e,t,n){var r,i,s,o;t==null&&(t=" is "),n==null&&(n=", "),s="";if(e!=null&&typeof e=="object"&&Object.prototype.toString.call(e)!=="[object Array]"){r=[];for(i in e)o=e[i],r.push(""+i+t+o);s=r.join(n)}return s},f=function(e,t){var n,r;if(!p(e))return;return n=e.length,T=T(n),n===0?r=""+T+" "+t:r=""+t+" "+T,r},E=function(e,t,n){var r,i,s,o,u,a,f,l;n==null&&(n="time");if(e===0||t===0)return"No "+S(n);i="Approximately",a=null,s=e/t;for(f=0,l=x.length;f<l;f++){r=x[f],o=s*r.value;if(o>1){a=r.name;break}}return a||(i="Less than",o=1,a=x[x.length-1].name),u=Math.round(o),n=S(u,n),""+i+" "+u+" "+n+" per "+a},m=function(e,t){return t==null&&(t="<br/>"),e.replace(/\n/g,t)},t=function(e,t){return t==null&&(t="\r\n"),e.replace(/\<br\s*\/?\>/g,t)},n=function(e,t){return t==null&&(t=!1),""+e.charAt(0).toUpperCase()+(t?e.slice(1).toLowerCase():e.slice(1))},r=function(e){return e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},C=N=function(e){var t,r,i,s,o,u=this;return i=/\b(a|an|and|at|but|by|de|en|for|if|in|of|on|or|the|to|via|vs?\.?)\b/i,r=/\S+[A-Z]+\S*/,o=/\s+/,s=/-/,t=function(e,u,a){var f,l,c,h,p,d;u==null&&(u=!1),a==null&&(a=!0),c=[],l=e.split(u?s:o);for(f=p=0,d=l.length;p<d;f=++p){h=l[f];if(h.indexOf("-")!==-1){c.push(t(h,!0,f===0||f===l.length-1));continue}if(!(!a||f!==0&&f!==l.length-1)){c.push(r.test(h)?h:n(h));continue}r.test(h)?c.push(h):i.test(h)?c.push(h.toLowerCase()):c.push(n(h))}return c.join(u?"-":" ")},t(e)},this.Humanize={intword:h,compactInteger:i,intcomma:c,intComma:l,filesize:u,fileSize:o,formatNumber:a,toFixed:k,normalizePrecision:g,ordinal:b,times:T,pluralize:S,truncate:A,truncatewords:_,truncateWords:O,truncatenumber:M,boundedNumber:e,oxford:w,dictionary:s,frequency:f,pace:E,nl2br:m,br2nl:t,capitalize:n,capitalizeAll:r,titlecase:C,titleCase:N},typeof module!="undefined"&&module!==null&&(module.exports=this.Humanize)}).call(this);