!function(){var a,b,c,d,e,f,g,h;e=new function(){},h=e.toString,f=function(a,b,c){var d,e,f,g;for(null==c&&(c=function(a){return a}),g=c(b),e=0,d=a.length;d>e;)f=e+d>>1,c(a[f])<g?e=f+1:d=f;return e},a=[].indexOf||function(a){var b,c,d,e,f;for(b=this,d=e=0,f=b.length;f>e;d=++e)if(c=b[d],c===a)return d;return-1},d=function(a){return a!==a},c=function(a){return window.isFinite(a)&&!d(parseFloat(a))},b=function(a){return"[object Array]"===h.call(a)},g=[{name:"second",value:1e3},{name:"minute",value:6e4},{name:"hour",value:36e5},{name:"day",value:864e5},{name:"week",value:6048e5}],this.Humanize={},this.Humanize.intword=function(b,c,d){var e,g,h,i,j,k;return b=parseInt(b,10),b.toString().length<=c?this.intcomma(b):(j=[1e3,1e6,1e9],k=["k","M","B"],i=a.call(j,b),-1===i&&(i=f(j,b)-1),h=j[i],e=(b/h+"").slice(0,c),g=e.split(".")[1],null==d&&(d=null!=g&&parseInt(g,10)&&g.length||0),this.intcomma(e,d)+k[i])},this.Humanize.intcomma=function(a,b){return null==b&&(b=0),this.formatNumber(a,b)},this.Humanize.filesize=function(a){var b;return b=a>=1073741824?this.formatNumber(a/1073741824,2,"")+" GB":a>=1048576?this.formatNumber(a/1048576,2,"")+" MB":a>=1024?this.formatNumber(a/1024,0)+" KB":this.formatNumber(a,0)+" bytes"},this.Humanize.formatNumber=function(a,b,c,d){var e,f,g,h,i,j,k,l=this;return null==b&&(b=0),null==c&&(c=","),null==d&&(d="."),h=function(a,b,c){return c?a.substr(0,c)+b:""},f=function(a,b,c){return a.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+b)},g=function(a,b,c){return c?b+l.toFixed(Math.abs(a),c).split(".")[1]:""},k=this.normalizePrecision(b),j=0>a&&"-"||"",e=parseInt(this.toFixed(Math.abs(a||0),k),10)+"",i=e.length>3?e.length%3:0,j+h(e,c,i)+f(e,c,i)+g(a,d,k)},this.Humanize.toFixed=function(a,b){var c;return null==b&&(b=this.normalizePrecision(b,0)),c=Math.pow(10,b),(Math.round(a*c)/c).toFixed(b)},this.Humanize.normalizePrecision=function(a,b){return a=Math.round(Math.abs(a)),d(a)?b:a},this.Humanize.ordinal=function(a){var b,c,d,e;if(d=parseInt(a,10),0===d)return a;if(e=d%100,11===e||12===e||13===e)return d+"th";switch(c=d%10){case 1:b="st";break;case 2:b="nd";break;case 3:b="rd";break;default:b="th"}return d+b},this.Humanize.times=function(a,b){var d,e;if(null==b&&(b={}),c(a)&&a>=0)switch(d=parseFloat(a)){case 0:e=null!=b[0]||"never";break;case 1:e=null!=b[1]||"once";break;case 2:e=null!=b[2]||"twice";break;default:e=(b[d]||d)+" times"}return e},this.Humanize.pluralize=function(a,b,c){return null!=a&&null!=b?(null==c&&(c=b+"s"),1===parseInt(a,10)?b:c):void 0},this.Humanize.truncate=function(a,b,c){return null==b&&(b=100),null==c&&(c="..."),a.length>b?a.substring(0,b-c.length)+c:a},this.Humanize.truncatewords=function(a,b){var c,d,e;for(c=a.split(" "),e="",d=0;b>d;)null!=c[d]&&(e+=c[d]+" "),d++;return c.length>b?e+="...":void 0},this.Humanize.truncatenumber=function(a,b,d){var e;return null==b&&(b=100),null==d&&(d="+"),e=null,c(a)&&c(b)&&a>b&&(e=b+d),(e||a).toString()},this.Humanize.oxford=function(a,b,c){var d,e,f;return f=a.length,2>f?""+a:2===f?a.join(" and "):(null!=b&&f>b?(d=f-b,e=b,null==c&&(c=", and "+d+" "+this.pluralize(d,"other"))):(e=-1,c=", and "+a[f-1]),a.slice(0,e).join(", ")+c)},this.Humanize.dictionary=function(a,b,c){var d,e,f,g;if(null==b&&(b=" is "),null==c&&(c=", "),f="",null!=a&&"object"==typeof a&&"[object Array]"!==Object.prototype.toString.call(a)){d=[];for(e in a)g=a[e],d.push(e+b+g);f=d.join(c)}return f},this.Humanize.frequency=function(a,c){var d,e,f;if(b(a))return d=a.length,f=this.times(d),e=0===d?""+f+" "+c:""+c+" "+f},this.Humanize.pace=function(a,b,c){var d,e,f,h,i,j,k,l;if(null==c&&(c="time"),0===a||0===b)return"No "+this.pluralize(c);for(e="Approximately",j=null,f=a/b,k=0,l=g.length;l>k;k++)if(d=g[k],h=f*d.value,h>1){j=d.name;break}return j||(e="Less than",h=1,j=g[g.length-1].name),i=Math.round(h),c=this.pluralize(i,c),""+e+" "+i+" "+c+" per "+j},this.Humanize.nl2br=function(a,b){return null==b&&(b="<br/>"),a.replace(/\n/g,b)},this.Humanize.br2nl=function(a,b){return null==b&&(b="\r\n"),a.replace(/\<br\s*\/?\>/g,b)},this.Humanize.capitalize=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},this.Humanize.titlecase=function(a){return a.replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()})},"undefined"!=typeof module&&null!==module&&(module.exports=this.Humanize)}.call(this);